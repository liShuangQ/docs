import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as a,c as s,b as t}from"./app-Ceo7RI_Z.js";const e={},p=t(`<h2 id="使用" tabindex="-1"><a class="header-anchor" href="#使用"><span>使用：</span></a></h2><p>添加 pom 依赖我们这里选用 druid 提供的 springboot starter</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>druid-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.1.18<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="数据源配置" tabindex="-1"><a class="header-anchor" href="#数据源配置"><span>数据源配置</span></a></h2><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token comment"># 数据源配置</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/mytest<span class="token punctuation">?</span>useSSL=false<span class="token important">&amp;charsetEncoding=utf8</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.jdbc.Driver
    <span class="token comment"># 连接池配置</span>
    <span class="token key atrule">druid</span><span class="token punctuation">:</span>
      <span class="token key atrule">max-active</span><span class="token punctuation">:</span> <span class="token number">10</span> <span class="token comment"># 最大活跃数量 默认8</span>
      <span class="token key atrule">min-idle</span><span class="token punctuation">:</span> <span class="token number">2</span> <span class="token comment"># 最小空闲数 默认0</span>
      <span class="token key atrule">initial-size</span><span class="token punctuation">:</span> <span class="token number">5</span> <span class="token comment"># 初始连接数</span>
      <span class="token key atrule">max-wait</span><span class="token punctuation">:</span> <span class="token number">2000</span> <span class="token comment"># 获取连接最大等待时间 默认 -1</span>
      <span class="token key atrule">validation-query</span><span class="token punctuation">:</span> select 1
      <span class="token key atrule">validation-query-timeout</span><span class="token punctuation">:</span> <span class="token number">5000</span>
      <span class="token key atrule">time-between-eviction-runs-millis</span><span class="token punctuation">:</span> <span class="token number">2000</span> <span class="token comment"># 间隔多久进行检测需要关闭的空闲连接</span>
      <span class="token key atrule">min-evictable-idle-time-millis</span><span class="token punctuation">:</span> <span class="token number">600000</span> <span class="token comment"># 配置连接在池中最小生存的时间</span>
      <span class="token key atrule">max-wait-thread-count</span><span class="token punctuation">:</span> <span class="token number">20</span> <span class="token comment"># 最大等待线程数</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>加入了 Druid 的依赖后 就会自动选择使用 druidDatasource 作为数据源的操作，即可直接使用。</p>`,6),l=[p];function i(c,o){return a(),s("div",null,l)}const d=n(e,[["render",i],["__file","alibabaDruid数据库连接池.html.vue"]]),k=JSON.parse('{"path":"/back-end/spring/SpringBoot/%E5%B8%B8%E7%94%A8%E4%BE%9D%E8%B5%96/alibabaDruid%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0.html","title":"alibaba Druid数据库连接池","lang":"zh-CN","frontmatter":{"title":"alibaba Druid数据库连接池","category":["代码片段","片段"],"tag":["框架","数据库","连接池"]},"headers":[{"level":2,"title":"使用：","slug":"使用","link":"#使用","children":[]},{"level":2,"title":"数据源配置","slug":"数据源配置","link":"#数据源配置","children":[]}],"git":{"createdTime":1713857586000,"updatedTime":1714038327000,"contributors":[{"name":"shuangqi.li","email":"li_shuangq@foxmail.com","commits":2}]},"readingTime":{"minutes":0.79,"words":236},"filePathRelative":"back-end/spring/SpringBoot/常用依赖/alibabaDruid数据库连接池.md","localizedDate":"2024年4月23日"}');export{d as comp,k as data};
